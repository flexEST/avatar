<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <title>Assistanta Sual Ver</title>
  <style>
    body {
      margin: 0;
      background: white;
    }

    #assistantContainer {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 220px;
      height: auto;
      display: none;
      z-index: 1000;
    }

    video {
      width: 100%;
      height: auto;
      border-radius: 10px;
    }
  </style>
</head>
<body>

  <div id="assistantContainer">
    <video id="assistantVideo" loop muted autoplay playsinline></video>
  </div>

  <audio id="audioPlayer"></audio>

  <script>
    const assistantContainer = document.getElementById('assistantContainer');
    const assistantVideo = document.getElementById('assistantVideo');
    const audioPlayer = document.getElementById('audioPlayer');

    const videos = {
      idle: 'videos/idle.mp4',
      talking: 'videos/talking.mp4'
    };

    const audios = {
      1: 'audio/audio1.mp3',
      2: 'audio/audio2.mp3',
      3: 'audio/audio3.mp3',
      4: 'audio/audio4.mp3',
      5: 'audio/audio5.mp3'
    };

    function showVideo(src, loop = true, muted = true) {
      assistantVideo.src = src;
      assistantVideo.loop = loop;
      assistantVideo.muted = muted;
      assistantVideo.play();
    }

    function startAssistant(audioSrc) {
      assistantContainer.style.display = 'block';
      showVideo(videos.talking, true, true);
      audioPlayer.src = audioSrc;
      audioPlayer.play();

      audioPlayer.onended = () => {
        showVideo(videos.idle, true, true);
      };
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'f') {
        startAssistant(audios[1]);
      } else if (['1','2','3','4','5'].includes(e.key)) {
        if (assistantContainer.style.display !== 'block') {
          assistantContainer.style.display = 'block';
          showVideo(videos.idle, true, true);
        }
        startAssistant(audios[e.key]);
      }
    });
  </script>
</body>
</html>
